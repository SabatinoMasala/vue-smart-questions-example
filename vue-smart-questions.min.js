!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.VueSmartQuestions=n():t.VueSmartQuestions=n()}(this,function(){return function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e=window.webpackJsonpVueSmartQuestions;window.webpackJsonpVueSmartQuestions=function(n,r,i){for(var s,u,a=0,c=[];a<n.length;a++)u=n[a],o[u]&&c.push(o[u][0]),o[u]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);for(e&&e(n,r,i);c.length;)c.shift()()};var r={},o={5:0};return n.e=function(t){function e(){u.onerror=u.onload=null,clearTimeout(a);var n=o[t];0!==n&&(n&&n[1](new Error("Loading chunk "+t+" failed.")),o[t]=void 0)}var r=o[t];if(0===r)return new Promise(function(t){t()});if(r)return r[2];var i=new Promise(function(n,e){r=o[t]=[n,e]});r[2]=i;var s=document.getElementsByTagName("head")[0],u=document.createElement("script");u.type="text/javascript",u.charset="utf-8",u.async=!0,u.timeout=12e4,n.nc&&u.setAttribute("nonce",n.nc),u.src=n.p+"./dist/"+t+".min.js";var a=setTimeout(e,12e4);return u.onerror=u.onload=e,s.appendChild(u),i},n.m=t,n.c=r,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n.oe=function(t){throw console.error(t),t},n(n.s=19)}([function(t,n){var e=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=e)},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n){t.exports=function(t,n,e,r,o){var i,s=t=t||{},u=typeof t.default;"object"!==u&&"function"!==u||(i=t,s=t.default);var a="function"==typeof s?s.options:s;n&&(a.render=n.render,a.staticRenderFns=n.staticRenderFns),r&&(a._scopeId=r);var c;if(o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},a._ssrRegister=c):e&&(c=e),c){var f=a.functional,l=f?a.render:a.beforeCreate;f?a.render=function(t,n){return c.call(n),l(t,n)}:a.beforeCreate=l?[].concat(l,c):[c]}return{esModule:i,exports:s,options:a}}},function(t,n,e){t.exports=!e(1)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(t,n){var e=t.filter(function(t){return t.id===n});if(0===e.length)throw new Error("Question with id "+n+" not found");return e[0]}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n,e){var r=e(4),o=e(0),i=e(29),s=e(33),u=function(t,n,e){var a,c,f,l=t&u.F,p=t&u.G,d=t&u.S,h=t&u.P,v=t&u.B,m=t&u.W,g=p?o:o[n]||(o[n]={}),_=g.prototype,b=p?r:d?r[n]:(r[n]||{}).prototype;p&&(e=n);for(a in e)(c=!l&&b&&void 0!==b[a])&&a in g||(f=c?b[a]:e[a],g[a]=p&&"function"!=typeof b[a]?e[a]:v&&c?i(f,r):m&&b[a]==f?function(t){var n=function(n,e,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,r)}return t.apply(this,arguments)};return n.prototype=t.prototype,n}(f):h&&"function"==typeof f?i(Function.call,f):f,h&&((g.virtual||(g.virtual={}))[a]=f,t&u.R&&_&&!_[a]&&s(_,a,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,n,e){var r=e(28);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,n,e){var r=e(38),o=e(31);t.exports=Object.keys||function(t){return r(t,o)}},function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},function(t,n,e){var r=e(9),o=e(7);t.exports=function(t){return r(o(t))}},function(t,n,e){var r=e(7);t.exports=function(t){return Object(r(t))}},function(t,n,e){"use strict";var r=e(17),o=e(54),i=e(2),s=i(r.a,o.a,null,null,null);s.options.__file="src/components/SmartQuestions.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] SmartQuestions.vue: functional components are not supported with templates, they should use render functions."),n.a=s.exports},function(t,n,e){"use strict";var r=e(22),o=e.n(r);n.a={name:"inputresolver",props:["value","config"],computed:{currentComponent:function(){var t=this.config.currentQuestion.type.toLowerCase();if(-1===o()(this.config.settings.components.fields).indexOf(t)){var n="Field "+t+" not found";throw new Error(n)}if(this.config.settings.components.fields[t])return this.config.settings.components.fields[t]}},methods:{updateValue:function(t){this.$emit("input",t)}}}},function(t,n,e){"use strict";n.a={props:["config"]}},function(t,n,e){"use strict";var r=e(21),o=e.n(r),i=e(6),s=e(20),u=e(18),a=e(51),c=e(50);n.a={name:"SmartQuestions",props:["form","config","debug"],components:{InputResolver:c.a,QuestionHeader:a.a},created:function(){this.settings=o()({},this.defaultConfig,this.config),this.currentQuestion=this.form.questions[0]},mounted:function(){this.answer=this.getInitialAnswerForQuestion(this.currentQuestion),this.updateMinAndMax()},computed:{currentKey:function(){return this.currentQuestion.id},canContinue:function(){return!(!this.currentQuestion||!this.currentQuestion.name)||this.answer&&""!==this.answer&&!this.blockContinue},isLast:function(){return 1===this.maximumRemainingQuestionAmount},canGoBack:function(){return this.questionHistory.length>0&&!this.blockGoBack}},methods:{getInitialAnswerForQuestion:function(t){var n="";return"NUMBER"===t.type?n=0:"CHECKBOX"===t.type&&(n=t.answers.map(function(t){return{checked:!1,value:t.value}})),{value:n,type:t.type}},submitValues:function(){this.progress=100,this.blockContinue=!0,this.blockGoBack=!0,this.$emit("submit",this.answers)},updateProgress:function(){var t=this.currentQuestionIndex/(this.maximumRemainingQuestionAmount+this.currentQuestionIndex)*100;this.isLast?t<90&&(this.progress=90):this.progress=t},updateMinAndMax:function(){this.maximumRemainingQuestionAmount=this.getMaximumRemainingQuestions(),this.minimumRemainingQuestionAmount=this.getMinimumRemainingQuestions()},getMaximumRemainingQuestions:function(){var t=this.getShortestAndLongestPath();return Math.min(t[0],t[1])},getMinimumRemainingQuestions:function(){var t=this.getShortestAndLongestPath();return Math.max(t[0],t[1])},getShortestAndLongestPath:function(){return e.i(u.a)(this.form,this.currentQuestion)},submit:function(){this.canContinue&&this.next()},next:function(){var t=this;if(this.canContinue){if(this.currentQuestionIndex+=1,this.answers[this.currentKey]=this.answer,this.isLast)return void this.submitValues();if(this.questionHistory.push(this.currentQuestion),"OPTIONS"===this.currentQuestion.type){var n=this.currentQuestion.answers.filter(function(n){return n.value===t.answer.value});if(n.length>0){var r=n[0].next_question_id;this.currentQuestion=e.i(i.a)(this.form.questions,r)}else console.error("No further questions found, form schema is probably wrong")}else{var o=this.currentQuestion.next_question_id;this.currentQuestion=e.i(i.a)(this.form.questions,o)}this.answer=this.getInitialAnswerForQuestion(this.currentQuestion),this.updateMinAndMax(),this.updateProgress()}},back:function(){this.canGoBack&&(this.currentQuestion=this.questionHistory.pop(),this.updateMinAndMax(),this.currentQuestionIndex--,this.updateProgress(),this.answer=this.answers[this.currentKey])}},data:function(){return{settings:{},defaultConfig:s.a,currentQuestionIndex:0,blockContinue:!1,blockGoBack:!1,answers:{},questionHistory:[],maximumRemainingQuestionAmount:0,minimumRemainingQuestionAmount:0,answer:"",currentQuestion:{},progress:0}}}},function(t,n,e){"use strict";var r=e(6);n.a=function(t,n){function o(n,s){void 0!==n&&(n.answers.length>0?n.answers.forEach(function(n){null===n.next_question_id?i.push(s):o(e.i(r.a)(t.questions,n.next_question_id),s+1)}):null===n.next_question_id?i.push(s):o(e.i(r.a)(t.questions,n.next_question_id),s+1))}var i=[];return o(n,1),[Math.min.apply(Math,i),Math.max.apply(Math,i)]}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(14);n.default=r.a},function(t,n,e){"use strict";n.a={progressStyle:"progressbar",components:{fields:{checkbox:function(){return e.e(4).then(e.bind(null,55))},number:function(){return e.e(3).then(e.bind(null,56))},options:function(){return e.e(2).then(e.bind(null,57))},text:function(){return e.e(1).then(e.bind(null,58))},textarea:function(){return e.e(0).then(e.bind(null,59))}}}}},function(t,n,e){t.exports={default:e(23),__esModule:!0}},function(t,n,e){t.exports={default:e(24),__esModule:!0}},function(t,n,e){e(48),t.exports=e(0).Object.assign},function(t,n,e){e(49),t.exports=e(0).Object.keys},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,e){var r=e(5);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,n,e){var r=e(12),o=e(45),i=e(44);t.exports=function(t){return function(n,e,s){var u,a=r(n),c=o(a.length),f=i(s,c);if(t&&e!=e){for(;c>f;)if((u=a[f++])!=u)return!0}else for(;c>f;f++)if((t||f in a)&&a[f]===e)return t||f||0;return!t&&-1}}},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n,e){var r=e(25);t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)}}return function(){return t.apply(n,arguments)}}},function(t,n,e){var r=e(5),o=e(4).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n,e){var r=e(36),o=e(41);t.exports=e(3)?function(t,n,e){return r.f(t,n,o(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){t.exports=!e(3)&&!e(1)(function(){return 7!=Object.defineProperty(e(30)("div"),"a",{get:function(){return 7}}).a})},function(t,n,e){"use strict";var r=e(10),o=e(37),i=e(39),s=e(13),u=e(9),a=Object.assign;t.exports=!a||e(1)(function(){var t={},n={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach(function(t){n[t]=t}),7!=a({},t)[e]||Object.keys(a({},n)).join("")!=r})?function(t,n){for(var e=s(t),a=arguments.length,c=1,f=o.f,l=i.f;a>c;)for(var p,d=u(arguments[c++]),h=f?r(d).concat(f(d)):r(d),v=h.length,m=0;v>m;)l.call(d,p=h[m++])&&(e[p]=d[p]);return e}:a},function(t,n,e){var r=e(26),o=e(34),i=e(46),s=Object.defineProperty;n.f=e(3)?Object.defineProperty:function(t,n,e){if(r(t),n=i(n,!0),r(e),o)try{return s(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,e){var r=e(32),o=e(12),i=e(27)(!1),s=e(42)("IE_PROTO");t.exports=function(t,n){var e,u=o(t),a=0,c=[];for(e in u)e!=s&&r(u,e)&&c.push(e);for(;n.length>a;)r(u,e=n[a++])&&(~i(c,e)||c.push(e));return c}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){var r=e(8),o=e(0),i=e(1);t.exports=function(t,n){var e=(o.Object||{})[t]||Object[t],s={};s[t]=n(e),r(r.S+r.F*i(function(){e(1)}),"Object",s)}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n,e){var r=e(43)("keys"),o=e(47);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,n,e){var r=e(4),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,n,e){var r=e(11),o=Math.max,i=Math.min;t.exports=function(t,n){return t=r(t),t<0?o(t+n,0):i(t,n)}},function(t,n,e){var r=e(11),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,n,e){var r=e(5);t.exports=function(t,n){if(!r(t))return t;var e,o;if(n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;if("function"==typeof(e=t.valueOf)&&!r(o=e.call(t)))return o;if(!n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,n){var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},function(t,n,e){var r=e(8);r(r.S+r.F,"Object",{assign:e(35)})},function(t,n,e){var r=e(13),o=e(10);e(40)("keys",function(){return function(t){return o(r(t))}})},function(t,n,e){"use strict";var r=e(15),o=e(52),i=e(2),s=i(r.a,o.a,null,null,null);s.options.__file="src/components/InputResolver.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] InputResolver.vue: functional components are not supported with templates, they should use render functions."),n.a=s.exports},function(t,n,e){"use strict";var r=e(16),o=e(53),i=e(2),s=i(r.a,o.a,null,null,null);s.options.__file="src/components/QuestionHeader.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] QuestionHeader.vue: functional components are not supported with templates, they should use render functions."),n.a=s.exports},function(t,n,e){"use strict";var r=function(){var t=this,n=t.$createElement;return(t._self._c||n)(t.currentComponent,{tag:"div",attrs:{question:t.config.currentQuestion,value:t.value},on:{input:t.updateValue}})},o=[];r._withStripped=!0;var i={render:r,staticRenderFns:o};n.a=i},function(t,n,e){"use strict";var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"card-header"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("h1",[t._v("\n                "+t._s(t.config.currentQuestion.question)+"\n            ")]),t._v(" "),!1!==t.config.currentQuestion.description?e("p",[t._v(t._s(t.config.currentQuestion.description))]):t._e()]),t._v(" "),e("div",{staticClass:"col-12 mt-3 mb-2"},[e("div",{staticClass:"progress"},["percentage"===t.config.settings.progressStyle?e("div",[t._v(t._s(Math.round(100*t.config.progress)/100)+"% complete.")]):t._e(),t._v(" "),"progressbar"===t.config.settings.progressStyle?e("div",{staticClass:"progress-bar",style:{width:t.config.progress+"%"}}):t._e()])])])])},o=[];r._withStripped=!0;var i={render:r,staticRenderFns:o};n.a=i},function(t,n,e){"use strict";var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("form",{staticClass:"card",attrs:{action:"#"},on:{submit:function(n){n.stopPropagation(),n.preventDefault(),t.submit(n)}}},[t.debug?e("div",{staticClass:"card-body"},[e("strong",[t._v("Debug values")]),t._v(" "),e("ul",{staticClass:"list-unstyled"},[e("li",[t._v("Current answer: "+t._s(t.answer))]),t._v(" "),e("li",[t._v("Question type: "+t._s(t.currentQuestion.type))]),t._v(" "),e("li",[t._v("Longest path: "+t._s(t.minimumRemainingQuestionAmount))]),t._v(" "),e("li",[t._v("Shortest path: "+t._s(t.maximumRemainingQuestionAmount))])])]):t._e(),t._v(" "),e("QuestionHeader",{attrs:{config:{settings:t.settings,currentQuestion:t.currentQuestion,progress:t.progress}}}),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("InputResolver",{attrs:{config:{settings:t.settings,currentQuestion:t.currentQuestion}},model:{value:t.answer.value,callback:function(n){t.answer.value=n},expression:"answer.value"}})],1)])]),t._v(" "),e("div",{staticClass:"card-footer"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{disabled:!t.canGoBack},on:{click:function(n){n.stopPropagation(),n.preventDefault(),t.back(n)}}},[t._v("Back")])]),t._v(" "),e("div",{staticClass:"col-6 text-right"},[t.isLast?t._e():e("button",{staticClass:"btn btn-primary",attrs:{disabled:!t.canContinue},on:{click:function(n){n.stopPropagation(),n.preventDefault(),t.next(n)}}},[t._v("Next")]),t._v(" "),t.isLast?e("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:!t.canContinue},on:{click:function(n){n.stopPropagation(),n.preventDefault(),t.next(n)}}},[t._v("Submit")]):t._e()])])])],1)},o=[];r._withStripped=!0;var i={render:r,staticRenderFns:o};n.a=i}])});